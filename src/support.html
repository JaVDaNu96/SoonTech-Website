<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="SoonTech Mission Control - Get instant support, submit tickets, or access self-service resources.">
    <title>Support - SoonTech Mission Control</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;600;700;800&display=swap" rel="stylesheet">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="styles.css">

    <!-- Shared Components Loader -->
    <script src="includes.js" defer></script>
    <script type="module" src="i18n.js"></script>
</head>

<body>
    <!-- Header (Shared Component) -->
    <div id="header-placeholder"></div>

    <!-- MISSION CONTROL WRAPPER - Contains Hero + Action Cards -->
    <div class="mission-control-wrapper">
        <!-- Hero Section -->
        <div class="hero-section">
            <h1 class="mission-title" data-i18n="supportPage.hero.title">Mission Control</h1>
            <p class="mission-subtitle" data-i18n="supportPage.hero.subtitle">How can SoonTech help you today?</p>

            <!-- User Type Toggle -->
            <div class="user-toggle">
                <button class="toggle-btn home active" onclick="toggleUser('home')">
                    <i class="fas fa-home"></i> <span data-i18n="supportPage.hero.userType.home">Home User</span>
                </button>
                <button class="toggle-btn business" onclick="toggleUser('business')">
                    <i class="fas fa-building"></i> <span data-i18n="supportPage.hero.userType.business">Business
                        Client</span>
                </button>
            </div>

            <!-- Glowing Search Bar -->
            <div class="search-container" style="position:relative;">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="support-search" class="search-input"
                    placeholder="Search for help... (e.g., 'wifi not working')" data-i18n-attr="placeholder"
                    data-i18n="supportPage.hero.searchPlaceholder.home" autocomplete="off" role="combobox"
                    aria-expanded="false" aria-controls="search-results">
                <!-- Live Results Dropdown -->
                <div id="search-results" role="listbox" style="
                    display:none; position:absolute; top:calc(100% + 8px); left:0; right:0;
                    background:#fff; border-radius:14px; box-shadow:0 12px 40px rgba(0,0,0,.20);
                    overflow:hidden; z-index:1000; max-height:380px; overflow-y:auto;
                "></div>
            </div>
        </div>

        <!-- Action Grid - 3 Glass Cards -->
        <div class="action-grid">
            <!-- Remote Support Card -->
            <div class="action-card remote-card">
                <div class="card-icon green-icon">
                    <i class="fas fa-desktop"></i>
                </div>
                <h3 data-i18n="supportPage.actions.remote.title">Remote Support</h3>
                <p data-i18n="supportPage.actions.remote.description">Technician waiting? Click below to launch
                    TeamViewer and connect instantly.</p>
                <a href="https://get.teamviewer.com/6v4teme" target="_blank" rel="noopener noreferrer"
                    class="action-btn green-btn">
                    <span data-i18n="supportPage.actions.remote.button">Connect Now</span>
                    <i class="fas fa-arrow-right"></i>
                </a>
                <p class="card-note" data-i18n="supportPage.actions.remote.note">Avg. wait: <strong>2 min</strong></p>
            </div>

            <!-- Submit Ticket Card -->
            <div class="action-card ticket-card">
                <div class="card-icon blue-icon">
                    <i class="fas fa-ticket-alt"></i>
                </div>
                <h3 data-i18n="supportPage.actions.ticket.title">Submit a Ticket</h3>
                <p data-i18n="supportPage.actions.ticket.description">Describe your issue. Get a detailed response
                    within 4 hours.</p>
                <a href="contact-us.html?type=ticket" class="action-btn blue-btn">
                    <span data-i18n="supportPage.actions.ticket.button">Create Ticket</span>
                    <i class="fas fa-edit"></i>
                </a>
                <p class="card-note" data-i18n="supportPage.actions.ticket.note">Response: <strong>4 hrs</strong></p>
            </div>

            <!-- Emergency Call Card -->
            <div class="action-card emergency-card">
                <div class="card-icon red-icon">
                    <i class="fas fa-phone-alt"></i>
                </div>
                <h3 data-i18n="supportPage.actions.emergency.title">Emergency Call</h3>
                <p data-i18n="supportPage.actions.emergency.description">System down? Critical issue? Call our emergency
                    line now.</p>
                <a href="tel:+17788624365" class="action-btn red-btn" onclick="handleEmergencyCall(event)">
                    <span data-i18n="supportPage.actions.emergency.button">Call 778-862-4365</span>
                    <i class="fas fa-phone"></i>
                </a>

                <!-- Phone popup (desktop only) -->
                <div id="phone-popup"
                    style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.55); z-index:9999; align-items:center; justify-content:center;">
                    <div
                        style="background:#fff; border-radius:16px; padding:2rem 2.5rem; text-align:center; max-width:340px; width:90%; box-shadow:0 20px 60px rgba(0,0,0,.3);">
                        <div style="font-size:2.5rem; margin-bottom:.5rem;">ðŸ“ž</div>
                        <h3 style="margin:0 0 .5rem; color:#1a1a2e; font-size:1.2rem;">Emergency Line</h3>
                        <p style="margin:0 0 1.2rem; color:#555; font-size:.9rem;">Call us directly at:</p>
                        <a href="tel:+17788624365"
                            style="display:block; font-size:1.6rem; font-weight:700; color:#e53e3e; text-decoration:none; margin-bottom:1.2rem;">+1
                            (778) 862-4365</a>
                        <button onclick="document.getElementById('phone-popup').style.display='none'"
                            style="background:#f0f0f0; border:none; border-radius:8px; padding:.6rem 1.5rem; cursor:pointer; font-size:.9rem; color:#555;">Close</button>
                    </div>
                </div>
                <p class="card-note emergency-note" data-i18n="supportPage.actions.emergency.note">24/7 Available</p>
            </div>
        </div>
    </div>
    <!-- END MISSION CONTROL WRAPPER -->

    <!-- Self-Service Resources - Light Section -->
    <section class="resources-section">
        <div class="resources-container">
            <h2 class="section-heading" data-i18n="supportPage.resources.title">Self-Service Resources</h2>
            <p class="section-subtitle" data-i18n="supportPage.resources.subtitle">Quick fixes for common issues</p>

            <div class="resources-grid">
                <!-- Wi-Fi -->
                <div class="resource-card" id="res-wifi">
                    <div class="resource-icon">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <h3 data-i18n="supportPage.resources.items.wifi.title">Wi-Fi Issues</h3>
                    <p data-i18n="supportPage.resources.items.wifi.description">Troubleshoot connectivity</p>
                    <a href="contact-us.html?service=other-support" class="resource-link"><span
                            data-i18n="supportPage.resources.viewGuide">View Guide</span> <i
                            class="fas fa-chevron-right"></i></a>
                </div>

                <!-- Email -->
                <div class="resource-card" id="res-email">
                    <div class="resource-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3 data-i18n="supportPage.resources.items.email.title">Email Problems</h3>
                    <p data-i18n="supportPage.resources.items.email.description">Fix sync and access</p>
                    <a href="contact-us.html?service=other-support" class="resource-link"><span
                            data-i18n="supportPage.resources.viewGuide">View Guide</span> <i
                            class="fas fa-chevron-right"></i></a>
                </div>

                <!-- Printer -->
                <div class="resource-card" id="res-printer">
                    <div class="resource-icon">
                        <i class="fas fa-print"></i>
                    </div>
                    <h3 data-i18n="supportPage.resources.items.printer.title">Printer Setup</h3>
                    <p data-i18n="supportPage.resources.items.printer.description">Configure printers</p>
                    <a href="contact-us.html?service=other-support" class="resource-link"><span
                            data-i18n="supportPage.resources.viewGuide">View Guide</span> <i
                            class="fas fa-chevron-right"></i></a>
                </div>

                <!-- Security -->
                <div class="resource-card" id="res-security">
                    <div class="resource-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 data-i18n="supportPage.resources.items.security.title">Security Alerts</h3>
                    <p data-i18n="supportPage.resources.items.security.description">Respond to warnings</p>
                    <a href="contact-us.html?service=other-support" class="resource-link"><span
                            data-i18n="supportPage.resources.viewGuide">View Guide</span> <i
                            class="fas fa-chevron-right"></i></a>
                </div>

                <!-- Billing -->
                <div class="resource-card" id="res-billing">
                    <div class="resource-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <h3 data-i18n="supportPage.resources.items.billing.title">Billing Questions</h3>
                    <p data-i18n="supportPage.resources.items.billing.description">Invoice and payments</p>
                    <a href="contact-us.html?service=other-support" class="resource-link"><span
                            data-i18n="supportPage.resources.viewGuide">View Guide</span> <i
                            class="fas fa-chevron-right"></i></a>
                </div>

                <!-- Account -->
                <div class="resource-card" id="res-account">
                    <div class="resource-icon">
                        <i class="fas fa-user-lock"></i>
                    </div>
                    <h3 data-i18n="supportPage.resources.items.account.title">Account Access</h3>
                    <p data-i18n="supportPage.resources.items.account.description">Reset passwords</p>
                    <a href="contact-us.html?service=other-support" class="resource-link"><span
                            data-i18n="supportPage.resources.viewGuide">View Guide</span> <i
                            class="fas fa-chevron-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="faq-container">
            <h2 class="section-heading" data-i18n="supportPage.faq.title">Frequently Asked Questions</h2>

            <div class="faq-list">
                <details class="faq-item" id="faq-1">
                    <summary class="faq-question">
                        <span data-i18n="supportPage.faq.items.q1.q">How do I reset my password?</span>
                        <i class="fas fa-chevron-down"></i>
                    </summary>
                    <div class="faq-answer">
                        <p data-i18n="supportPage.faq.items.q1.a">Click "Forgot Password" on the login page. Enter your
                            email and we'll send a reset link
                            within minutes.</p>
                    </div>
                </details>

                <details class="faq-item" id="faq-2">
                    <summary class="faq-question">
                        <span data-i18n="supportPage.faq.items.q2.q">What are your support hours?</span>
                        <i class="fas fa-chevron-down"></i>
                    </summary>
                    <div class="faq-answer">
                        <p data-i18n="supportPage.faq.items.q2.a">Monday-Friday, 8 AM - 6 PM PST. Emergency support
                            available 24/7.</p>
                    </div>
                </details>

                <details class="faq-item" id="faq-3">
                    <summary class="faq-question">
                        <span data-i18n="supportPage.faq.items.q3.q">How do I schedule remote support?</span>
                        <i class="fas fa-chevron-down"></i>
                    </summary>
                    <div class="faq-answer">
                        <p data-i18n="supportPage.faq.items.q3.a">Contact us to schedule a session. We'll provide a
                            6-digit code to enter above.</p>
                    </div>
                </details>

                <details class="faq-item" id="faq-4">
                    <summary class="faq-question">
                        <span data-i18n="supportPage.faq.items.q4.q">What should I include in a ticket?</span>
                        <i class="fas fa-chevron-down"></i>
                    </summary>
                    <div class="faq-answer">
                        <p data-i18n="supportPage.faq.items.q4.a">Describe the issue, when it started, what you tried,
                            and include screenshots if possible.</p>
                    </div>
                </details>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="support-cta">
        <div class="cta-container">
            <h2 data-i18n="supportPage.cta.title">Still Need Help?</h2>
            <p data-i18n="supportPage.cta.subtitle">Our team is standing by</p>
            <div class="cta-buttons">
                <a href="contact-us.html" class="cta-btn primary">
                    <span data-i18n="supportPage.cta.contact">Contact Us</span> <i class="fas fa-arrow-right"></i>
                </a>
                <a href="about-us.html" class="cta-btn secondary">
                    <span data-i18n="supportPage.cta.team">Meet Our Team</span> <i class="fas fa-users"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer (Shared Component) -->
    <div id="footer-placeholder"></div>

    <!-- User Toggle Script -->
    <script>
        /* â”€â”€ Home / Business toggle â”€â”€ */
        function toggleUser(type) {
            document.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
            const inp = document.getElementById('support-search');
            if (type === 'home') {
                document.querySelector('.toggle-btn.home').classList.add('active');
                inp.placeholder = "Search for help... (e.g., 'wifi not working')";
            } else {
                document.querySelector('.toggle-btn.business').classList.add('active');
                inp.placeholder = "Search for help... (e.g., 'server down')";
            }
        }

        /* â”€â”€ Emergency call: show phone popup on desktop â”€â”€ */
        function handleEmergencyCall(e) {
            if (!/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                e.preventDefault();
                const popup = document.getElementById('phone-popup');
                popup.style.display = 'flex';
                popup.addEventListener('click', ev => {
                    if (ev.target === popup) popup.style.display = 'none';
                }, { once: true });
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LIVE SEARCH ENGINE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        const KB = [
            {
                icon: 'fa-desktop', color: '#22c55e', title: 'Remote Support (TeamViewer)',
                desc: 'Connect instantly with a technician â€” no code needed.',
                keys: ['remote', 'teamviewer', 'connect', 'screen share', 'session', 'tech help', 'online help', 'live support'],
                go: () => window.open('https://get.teamviewer.com/6v4teme', '_blank')
            },

            {
                icon: 'fa-ticket-alt', color: '#3b82f6', title: 'Submit a Support Ticket',
                desc: 'Describe your issue â€” get a detailed response within 4 hours.',
                keys: ['ticket', 'submit', 'report', 'create ticket', 'request', 'open ticket', 'issue', 'problem', 'log ticket'],
                go: () => location.href = 'contact-us.html?type=ticket'
            },

            {
                icon: 'fa-phone', color: '#ef4444', title: 'Emergency Call â€” +1 (778) 862-4365',
                desc: 'System down? Critical issue? Call our 24/7 emergency line.',
                keys: ['emergency', 'urgent', 'call', 'phone', 'critical', 'down', 'outage', 'not working', 'asap', '24/7'],
                go: () => { const b = document.querySelector('.red-btn'); if (b) b.click(); }
            },

            {
                icon: 'fa-wifi', color: '#f59e0b', title: 'Wi-Fi Issues',
                desc: "Can't connect? Slow internet? Dead zones? We can help.",
                keys: ['wifi', 'wi-fi', 'internet', 'network', 'slow', 'no internet', 'router', 'modem', 'disconnected', 'signal', 'dead zone', 'wireless', 'bandwidth', 'lag', 'ping', 'connection'],
                go: () => highlight('res-wifi')
            },

            {
                icon: 'fa-envelope', color: '#8b5cf6', title: 'Email Problems',
                desc: 'Fix sync issues, login failures, or access problems.',
                keys: ['email', 'outlook', 'gmail', 'mail', 'sync', 'inbox', 'not receiving', 'spam', 'sending', 'imap', 'smtp', 'microsoft 365', 'exchange', 'calendar'],
                go: () => highlight('res-email')
            },

            {
                icon: 'fa-print', color: '#06b6d4', title: 'Printer Setup & Issues',
                desc: 'Configure printers, fix errors, set up wireless printing.',
                keys: ['printer', 'print', 'printing', 'scanner', 'scan', 'ink', 'paper', 'driver', 'install printer', 'offline printer', 'print queue', 'stuck'],
                go: () => highlight('res-printer')
            },

            {
                icon: 'fa-shield-alt', color: '#ef4444', title: 'Security Alerts',
                desc: 'Respond to threats, malware warnings, and suspicious activity.',
                keys: ['security', 'virus', 'malware', 'ransomware', 'hacked', 'phishing', 'alert', 'warning', 'firewall', 'antivirus', 'suspicious', 'threat', 'breach', 'spyware', 'attack', 'cyber'],
                go: () => highlight('res-security')
            },

            {
                icon: 'fa-file-invoice-dollar', color: '#10b981', title: 'Billing & Invoices',
                desc: 'Invoice questions, payment methods, or subscription changes.',
                keys: ['billing', 'invoice', 'payment', 'charge', 'subscription', 'pricing', 'refund', 'receipt', 'fee', 'monthly', 'cancel', 'upgrade', 'credit card'],
                go: () => highlight('res-billing')
            },

            {
                icon: 'fa-user-lock', color: '#6366f1', title: 'Account Access & Passwords',
                desc: 'Reset passwords, unlock accounts, or fix login issues.',
                keys: ['account', 'password', 'login', 'forgot password', 'reset password', 'locked out', 'sign in', 'credentials', '2fa', 'two factor', 'authentication', 'can\'t login'],
                go: () => highlight('res-account')
            },

            {
                icon: 'fa-question-circle', color: '#6366f1', title: 'FAQ: How do I reset my password?',
                desc: 'Click "Forgot Password" â€” we\'ll send a reset link instantly.',
                keys: ['forgot password', 'reset', 'change password', 'password help', 'lose password'],
                go: () => openFaq('faq-1')
            },

            {
                icon: 'fa-clock', color: '#f59e0b', title: 'FAQ: Support hours',
                desc: 'Monâ€“Fri 8AMâ€“6PM PST. Emergency support available 24/7.',
                keys: ['hours', 'when', 'open', 'schedule', 'availability', 'time', 'weekend', 'saturday', 'sunday', 'business hours'],
                go: () => openFaq('faq-2')
            },

            {
                icon: 'fa-desktop', color: '#22c55e', title: 'FAQ: Schedule remote support',
                desc: 'Contact us to book â€” we\'ll send a 6-digit session code.',
                keys: ['schedule', 'book', 'appointment', 'remote session'],
                go: () => openFaq('faq-3')
            },

            {
                icon: 'fa-edit', color: '#3b82f6', title: 'FAQ: What to include in a ticket?',
                desc: 'Describe the issue, when it started, and include screenshots.',
                keys: ['ticket info', 'what to write', 'screenshot', 'ticket details', 'describe'],
                go: () => openFaq('faq-4')
            },

            {
                icon: 'fa-laptop', color: '#0ea5e9', title: 'New Device Setup',
                desc: 'Get help setting up a new computer, phone, or tablet.',
                keys: ['new computer', 'setup', 'new laptop', 'new phone', 'configure', 'install', 'tablet', 'mac', 'windows', 'iphone', 'android', 'new device'],
                go: () => location.href = 'contact-us.html?service=other-support'
            },

            {
                icon: 'fa-cloud', color: '#0ea5e9', title: 'Cloud & Backup Services',
                desc: 'Microsoft 365, OneDrive, cloud backup and data recovery.',
                keys: ['cloud', 'backup', 'onedrive', 'dropbox', 'restore', 'data loss', 'recovery', 'microsoft 365', 'sharepoint', 'teams', 'storage', 'files'],
                go: () => location.href = 'contact-us.html?service=business-cloud-solutions'
            },
        ];

        let activeIdx = -1, curResults = [];

        function highlight(id) {
            const el = document.getElementById(id);
            if (!el) return;
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            el.style.outline = '3px solid #3b82f6';
            el.style.borderRadius = '12px';
            setTimeout(() => el.style.outline = '', 2000);
        }

        function openFaq(id) {
            const el = document.getElementById(id);
            if (!el) return;
            el.open = true;
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            el.style.outline = '3px solid #3b82f6';
            el.style.borderRadius = '8px';
            setTimeout(() => el.style.outline = '', 2000);
        }

        function renderResults(query) {
            const box = document.getElementById('search-results');
            const inp = document.getElementById('support-search');
            if (!query || query.length < 2) { box.style.display = 'none'; return; }

            const q = query.toLowerCase();
            curResults = KB.filter(item =>
                item.title.toLowerCase().includes(q) ||
                item.desc.toLowerCase().includes(q) ||
                item.keys.some(k => k.includes(q) || q.includes(k))
            ).slice(0, 6);

            activeIdx = -1;
            box.innerHTML = '';

            if (!curResults.length) {
                box.innerHTML = `<div style="padding:1rem 1.2rem;color:#666;font-size:.9rem;border-bottom:1px solid #f0f0f0;">
                    <i class="fas fa-search" style="margin-right:.5rem;color:#bbb;"></i>
                    No results for <strong>"${query}"</strong></div>`;
            } else {
                curResults.forEach((item, i) => {
                    const row = document.createElement('div');
                    row.setAttribute('role', 'option');
                    row.setAttribute('data-idx', i);
                    row.style.cssText = 'display:flex;align-items:center;gap:.9rem;padding:.85rem 1.2rem;cursor:pointer;border-bottom:1px solid #f5f5f5;transition:background .12s;';
                    row.innerHTML = `
                        <div style="width:34px;height:34px;border-radius:8px;background:${item.color}1a;display:flex;align-items:center;justify-content:center;flex-shrink:0;">
                            <i class="fas ${item.icon}" style="color:${item.color};font-size:.95rem;"></i>
                        </div>
                        <div style="min-width:0;">
                            <div style="font-weight:600;color:#1a1a2e;font-size:.88rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${item.title}</div>
                            <div style="color:#888;font-size:.78rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${item.desc}</div>
                        </div>
                        <i class="fas fa-chevron-right" style="margin-left:auto;color:#ccc;font-size:.72rem;flex-shrink:0;"></i>`;
                    row.addEventListener('mouseenter', () => setActive(i));
                    row.addEventListener('click', () => pick(i));
                    box.appendChild(row);
                });
            }

            /* Always-visible footer link */
            const foot = document.createElement('a');
            foot.href = 'contact-us.html';
            foot.style.cssText = 'display:flex;align-items:center;gap:.6rem;padding:.75rem 1.2rem;color:#3b82f6;font-size:.83rem;font-weight:600;text-decoration:none;background:#f0f7ff;';
            foot.innerHTML = '<i class="fas fa-paper-plane"></i> Still need help? Contact our team â†’';
            box.appendChild(foot);

            box.style.display = 'block';
        }

        function setActive(i) {
            document.querySelectorAll('#search-results [data-idx]').forEach(r => r.style.background = '');
            activeIdx = i;
            const row = document.querySelector(`#search-results [data-idx="${i}"]`);
            if (row) row.style.background = '#f0f7ff';
        }

        function pick(i) {
            closeSearch();
            document.getElementById('support-search').value = '';
            if (curResults[i]) curResults[i].go();
        }

        function closeSearch() {
            const box = document.getElementById('search-results');
            if (box) box.style.display = 'none';
            activeIdx = -1;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const inp = document.getElementById('support-search');
            const box = document.getElementById('search-results');

            inp.addEventListener('input', () => renderResults(inp.value.trim()));

            inp.addEventListener('keydown', e => {
                const rows = document.querySelectorAll('#search-results [data-idx]');
                if (e.key === 'ArrowDown') { e.preventDefault(); setActive(Math.min(activeIdx + 1, rows.length - 1)); }
                else if (e.key === 'ArrowUp') { e.preventDefault(); setActive(Math.max(activeIdx - 1, 0)); }
                else if (e.key === 'Enter' && activeIdx >= 0) { e.preventDefault(); pick(activeIdx); }
                else if (e.key === 'Escape') { closeSearch(); inp.blur(); }
            });

            document.addEventListener('click', e => {
                if (!inp.contains(e.target) && !box.contains(e.target)) closeSearch();
            });
        });
    </script>
</body>

</html>